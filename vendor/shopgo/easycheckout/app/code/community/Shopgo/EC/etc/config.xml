<?xml version="1.0"?>
<config>
    <modules>
        <Shopgo_EC>
            <version>2.3.3</version>
        </Shopgo_EC>
    </modules>
    <frontend>
        <secure_url>
            <ec>/easycheckout</ec>
        </secure_url>
        <routers>
            <ec>
                <use>standard</use>
                <args>
                    <module>Shopgo_EC</module>
                    <frontName>easycheckout</frontName>
                </args>
            </ec>
            <checkout>
                <args>
                    <modules>
                        <Shopgo_EC before="Mage_Checkout">Shopgo_EC</Shopgo_EC>
                    </modules>
                </args>
            </checkout>
        </routers>
        <layout>
            <updates>
                <ec>
                    <file>shopgo/ec.xml</file>
                </ec>
            </updates>
        </layout>
        <events>
            <checkout_cart_add_product_complete>
                <observers>
                    <shopgo_ec_model_observer>
                        <type>singleton</type>
                        <class>Shopgo_EC_Model_Observer</class>
                        <method>afterAddToCart</method>
                    </shopgo_ec_model_observer>
                </observers>
            </checkout_cart_add_product_complete>
            <sales_quote_add_item>
                <observers>
                    <shopgo_ec_model_observer>
                        <type>singleton</type>
                        <class>Shopgo_EC_Model_Observer</class>
                        <method>clearCart</method>
                    </shopgo_ec_model_observer>
                </observers>
            </sales_quote_add_item>
        </events>
        <translate>
            <modules>
                <Shopgo_EC>
                    <files>
                        <default>Shopgo_EC.csv</default>
                    </files>
                </Shopgo_EC>
            </modules>
        </translate>
    </frontend>
    <adminhtml>
        <layout>
            <updates>
                <ec>
                    <file>shopgo/ec.xml</file>
                </ec>
            </updates>
        </layout>
    </adminhtml>
    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <ec before="Mage_Adminhtml">Shopgo_EC_Adminhtml</ec>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <global>
        <models>
            <ec>
                <class>Shopgo_EC_Model</class>
            </ec>
            <sales>
                <rewrite>
                    <quote_address>Shopgo_EC_Model_Address</quote_address>
                </rewrite>
            </sales>
            <customer>
                <rewrite>
                    <attribute>Shopgo_EC_Model_Address_Attribute</attribute>
                </rewrite>
            </customer>
        </models>
        <resources>
            <ec_setup>
                <setup>
                    <module>Shopgo_EC</module>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </ec_setup>
            <ec_write>
                <connection>
                    <use>core_write</use>
                </connection>
            </ec_write>
            <ec_read>
                <connection>
                    <use>core_read</use>
                </connection>
            </ec_read>
        </resources>
        <blocks>
            <ec>
                <class>Shopgo_EC_Block</class>
            </ec>
            <checkout>
                <rewrite>
                    <onepage_billing>Shopgo_EC_Block_EC_Billing</onepage_billing>
                    <onepage_shipping>Shopgo_EC_Block_EC_Shipping</onepage_shipping>
                </rewrite>
            </checkout>
            <payment>
                <rewrite>
                    <form_banktransfer>Shopgo_EC_Block_Payment_Form_Banktransfer</form_banktransfer>
                    <form_cashondelivery>Shopgo_EC_Block_Payment_Form_Cashondelivery</form_cashondelivery>
                    <!-- <evopin_checkoutcom_form_paymentform>Shopgo_EC_Block_Payment_Form_Checkoutcom</evopin_checkoutcom_form_paymentform> -->
                    <form_cc>Shopgo_EC_Block_Payment_Form_Cc</form_cc>
                    <form_ccsave>Shopgo_EC_Block_Payment_Form_Ccsave</form_ccsave>
                    <form_checkmo>Shopgo_EC_Block_Payment_Form_Checkmo</form_checkmo>
                    <form_container>Shopgo_EC_Block_Payment_Form_Container</form_container>
                    <form_purchaseorder>Shopgo_EC_Block_Payment_Form_Purchaseorder</form_purchaseorder>
                </rewrite>
            </payment>
            <phoenix_cashondelivery>
            	<rewrite>
            		<form>Shopgo_EC_Block_Payment_Form_Phoenix_Cod</form>
            	</rewrite>
            </phoenix_cashondelivery>
            <!--<paymentmodule>
                <rewrite>
                    <form_payform>Shopgo_EC_Block_Payment_Form_Checkoutcom</form_payform>
                </rewrite>
            </paymentmodule>-->
            <checkoutapi_chargePayment>
                <rewrite>
                    <!--<form_payform>Shopgo_EC_Block_Payment_Form_Checkoutcom</form_payform>-->
                    <form_creditcardpci>Shopgo_EC_Block_Payment_Form_Creditcardpci</form_creditcardpci>
                </rewrite>
            </checkoutapi_chargePayment>
            <adminhtml></adminhtml>
        </blocks>
        <helpers>
            <ec>
                <class>Shopgo_EC_Helper</class>
            </ec>
        </helpers>
        <events>
            <controller_action_predispatch_checkout_onepage_index>
                <observers>
                    <shopgo_ec_model_observer>
                        <type>singleton</type>
                        <class>ec/observer</class>
                        <method>initController</method>
                    </shopgo_ec_model_observer>
                </observers>
            </controller_action_predispatch_checkout_onepage_index>
            <!-- redirect to /ec from /checkout -->
            <controller_action_predispatch_checkout_index_index>
                <observers>
                    <shopgo_ec_model_observer>
                        <type>singleton</type>
                        <class>ec/observer</class>
                        <method>initController</method>
                    </shopgo_ec_model_observer>
                </observers>
            </controller_action_predispatch_checkout_index_index>
            <admin_system_config_changed_section_general>
                <observers>
                    <ec>
                        <type>model</type>
                        <class>ec/observer</class>
                        <method>admin_system_config_changed_section_general</method>
                    </ec>
                </observers>
            </admin_system_config_changed_section_general>
            <admin_system_config_changed_section_checkout>
                <observers>
                    <ec>
                        <type>model</type>
                        <class>ec/observer</class>
                        <method>admin_system_config_changed_section_checkout</method>
                    </ec>
                </observers>
            </admin_system_config_changed_section_checkout>
            <admin_system_config_changed_section_ec>
                <observers>
                    <ec>
                        <type>model</type>
                        <class>ec/observer</class>
                        <method>admin_system_config_changed_section_onestepcheckout</method>
                    </ec>
                </observers>
            </admin_system_config_changed_section_ec>
            <admin_system_config_changed_section_sales>
                <observers>
                    <ec>
                        <type>model</type>
                        <class>ec/observer</class>
                        <method>admin_system_config_changed_section_sales</method>
                    </ec>
                </observers>
            </admin_system_config_changed_section_sales>
            <sales_quote_collect_totals_before>
                <observers>
                    <ec>
                        <type>model</type>
                        <class>ec/observer</class>
                        <method>handleCollect</method>
                    </ec>
                </observers>
            </sales_quote_collect_totals_before>
        </events>
    </global>
    <default>
        <ec>
            <general>
                <active>1</active>
                <default_country>US</default_country>
                <default_zipcode>93504</default_zipcode>
                <checkout_title>Shopgo Checkout</checkout_title>
                <checkout_description>Please enter your details below to complete your purchase.</checkout_description>
                <guest_checkout>1</guest_checkout>
                <enable_agreements>0</enable_agreements>
                <allow_order>0</allow_order>
                <allow_items>0</allow_items>
                <!--<enable_coupon>0</enable_coupon>-->
            </general>
            <address>
                <use_geoip>1</use_geoip>
                <input_maxlength>3000</input_maxlength>
                <cities_data_source>geonames_api</cities_data_source>
                <city_input>autocomplete</city_input>
                
                <!-- CITIES INTEGRATION: START -->
                <cities_username>shopgo</cities_username>
                <autocomplete_allow_any_value>0</autocomplete_allow_any_value>
                <!-- CITIES INTEGRATION: END -->

                <geonames_username>shopgo</geonames_username>
                <aramex_username>reem@reem.com</aramex_username>
                <aramex_password>123456789</aramex_password>
                <numeric_tel>1</numeric_tel>
                <reload_delay>1</reload_delay>
                <delay_interval>1500</delay_interval>
            </address>
            <shipping>
                <default_shipping_method>flatrate_flatrate</default_shipping_method>
            </shipping>
            <payment>
                <default_payment_method>phoenix_cashondelivery</default_payment_method>
            </payment>
            <ux>
                <placeorder_color>teal</placeorder_color>
                <show_discount_total>0</show_discount_total>
                <show_base_grand_total>0</show_base_grand_total>
                <always_show_shipping_methods>1</always_show_shipping_methods>
                <show_custom_review_text>0</show_custom_review_text>
                <custom_review_text><![CDATA[Note that you will be liable for all duties, customs, and local clearance charges levied by the country being shipped to.]]></custom_review_text>
                <billing_information_tag>Fill your billing information.</billing_information_tag>
                <shipping_information_tag>Fill your shipping information.</shipping_information_tag>
                <shipping_method_tag>Choose your shipping method.</shipping_method_tag>
                <payment_information_tag>How are you going to pay ?</payment_information_tag>
                <review_your_order_tag>Check your order details.</review_your_order_tag>
            </ux>
            <advanced>
                <skip_cart>0</skip_cart>
                <allow_one_item>0</allow_one_item>
            </advanced>
            <dev>
                <console_log>0</console_log>
            </dev>
        </ec>
    </default>
</config>
